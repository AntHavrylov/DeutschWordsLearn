<section class="source-manager-section">
  <h2>Importquellen verwalten</h2>

  <div class="source-form">
    <h3>{{ editingSource ? 'Quelle bearbeiten' : 'Neue Quelle hinzufügen' }}</h3>
    <div class="form-group">
      <label for="source-name">Quellenname:</label>
      <input type="text" id="source-name" [(ngModel)]="newSourceName" placeholder="z.B. Deutsche Verben Tabelle">
    </div>
    <div class="form-group">
      <label for="source-url">Quellen-URL (CSV):</label>
      <input type="text" id="source-url" [(ngModel)]="newSourceUrl" placeholder="z.B. https://docs.google.com/sheets/d/e/.../pub?output=csv">
    </div>
    <div class="form-group">
      <label for="source-file-link">Dateilink (optional):</label>
      <input type="text" id="source-file-link" [(ngModel)]="newSourceFileLink" placeholder="z.B. https://example.com/my-document.pdf">
    </div>
    <button *ngIf="!editingSource" (click)="addSource()" [disabled]="!newSourceName.trim()">Quelle hinzufügen</button>
    <div *ngIf="editingSource">
      <button (click)="updateSource()" [disabled]="!newSourceName.trim()">Quelle aktualisieren</button>
      <button (click)="cancelEdit()">Abbrechen</button>
    </div>
  </div>

  <div class="source-list">
    <h3>Ihre Quellen:</h3>
    <div *ngIf="sources.length === 0">Noch keine Importquellen hinzugefügt.</div>
    <ul>
      <li *ngFor="let source of sources">
        <span>{{ source.name }}</span>
        <small>{{ source.url }}</small>
        <small *ngIf="source.fileLink">Dateilink: <a [href]="source.fileLink" target="_blank">{{ source.fileLink }}</a></small>
        <div class="source-actions">
          <button (click)="editSource(source)">Bearbeiten</button>
          <button (click)="deleteSource(source.id)">Löschen</button>
        </div>
      </li>
    </ul>
  </div>
</section>